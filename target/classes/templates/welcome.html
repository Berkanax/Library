<!DOCTYPE html>
<html>
<head>
    <title>Welcome</title>
    <link rel="stylesheet" href="../static/css/styles.css" />
</head>
<body>
<div class="container">
    <div class="header">
        <img src="../static/images/logo.png" alt="Logo">
        <div class="title">
            <h2>Biblioteka v2.7</h2>
            <p>Project by Tironi</p>
        </div>
    </div>
    <p class="quote">"The only thing that you absolutely have to know, is the location of the library." - Albert Einstein</p>
    <div class="welcome-message">
        <h2>Witaj, <span id="adminId"></span>!</h2>
    </div>
    <div class="options">
        <h3>Opcje Administratora</h3>
        <ul>
            <li><a href="/addReader">Dodaj Czytelnika</a></li>
            <li><a href="/addBook">Dodaj Książkę</a></li>
            <li><a href="/addMagazine">Dodaj Magazyn</a></li>
        </ul>
    </div>
    <div class="recent-books">
        <h3>Ostatnio dodane Książki:</h3>
        <ul id="recentBooks">
            <!-- Lista ostatnio dodanych książek -->
        </ul>
    </div>
</div>
<img src="../static/images/tlo.png" alt="Background Image" class="image-background">
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const adminId = urlParams.get('adminId');
        document.getElementById('adminId').textContent = adminId;

        fetch('/api/recentBooks')
            .then(response => response.json())
            .then(data => {
                const recentBooksList = document.getElementById('recentBooks');
                data.forEach(book => {
                    const listItem = document.createElement('li');
                    listItem.textContent = book.title;
                    recentBooksList.appendChild(listItem);
                });
            });
    });
</script>
</body>
</html>
